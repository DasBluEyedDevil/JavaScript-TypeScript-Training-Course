{
  "id": 4,
  "title": "Module 4: Repeating Actions (The 'Loops')",
  "description": "Automate repetitive tasks using loops",
  "goal": "Master loops to avoid repeating code and process collections of data",
  "lessons": [
    {
      "id": "4.1",
      "title": "Doing Something a Specific Number of Times (for Loops)",
      "conceptAnalogy": "Imagine you're a teacher taking attendance. You have a list of 25 students, and you need to call out each name, one by one:\n\n'Student 1: Are you here?'\n'Student 2: Are you here?'\n'Student 3: Are you here?'\n...and so on until student 25.\n\nYou're doing the SAME action 25 times, just changing the number. This is tedious to write out, but perfect for a loop!\n\nA 'for loop' is like saying: 'Start at 1, keep going until 25, and for each number, do this action.' The loop handles the counting automatically - you just tell it what to do each time.",
      "codeExample": "// Basic for loop - count from 0 to 4\nfor (let i = 0; i < 5; i++) {\n  console.log('Count: ' + i);\n}\n// Displays: Count: 0, Count: 1, Count: 2, Count: 3, Count: 4\n\n// Count from 1 to 10\nfor (let i = 1; i <= 10; i++) {\n  console.log(i);\n}\n\n// Count by twos (even numbers)\nfor (let i = 0; i <= 10; i += 2) {\n  console.log(i);  // 0, 2, 4, 6, 8, 10\n}\n\n// Count backwards\nfor (let i = 10; i >= 1; i--) {\n  console.log(i);\n}\nconsole.log('Blast off!');\n\n// Practical example: calculate total\nlet total = 0;\nfor (let i = 1; i <= 5; i++) {\n  total += i;  // Same as: total = total + i\n}\nconsole.log('Sum of 1 to 5: ' + total);  // 15",
      "syntaxBreakdown": "Anatomy of a for loop:\n\nfor (initialization; condition; update) {\n     │              │          │\n     │              │          └─ What happens after each loop\n     │              └──────────── When to keep looping\n     └─────────────────────────── Where to start\n  // Code to repeat\n}\n\nLet's break down: for (let i = 0; i < 5; i++)\n\n1. **Initialization** (let i = 0)\n   - Runs ONCE at the very beginning\n   - Creates a counter variable (usually named i)\n   - Sets its starting value\n\n2. **Condition** (i < 5)\n   - Checked BEFORE each loop iteration\n   - If true, run the loop body\n   - If false, exit the loop\n\n3. **Update** (i++)\n   - Runs AFTER each loop iteration\n   - Usually increments the counter\n   - i++ means 'add 1 to i' (same as i = i + 1)\n\nHow it flows:\n1. let i = 0           (start)\n2. Is i < 5? Yes (0 < 5)  → run loop body\n3. i++ → i is now 1\n4. Is i < 5? Yes (1 < 5)  → run loop body\n5. i++ → i is now 2\n6. Is i < 5? Yes (2 < 5)  → run loop body\n7. i++ → i is now 3\n8. Is i < 5? Yes (3 < 5)  → run loop body\n9. i++ → i is now 4\n10. Is i < 5? Yes (4 < 5) → run loop body\n11. i++ → i is now 5\n12. Is i < 5? No (5 is NOT < 5) → EXIT LOOP\n\nCommon patterns:\n- Count up: i++\n- Count down: i--\n- Skip by 2: i += 2\n- Count by 10s: i += 10",
      "challenge": {
        "instructions": "Create a multiplication table for 7:\nUse a for loop to display:\n7 x 1 = 7\n7 x 2 = 14\n7 x 3 = 21\n...up to...\n7 x 10 = 70\n\nHint: Loop from 1 to 10, and each time display: console.log('7 x ' + i + ' = ' + (7 * i));",
        "starterCode": "// Create a for loop that goes from 1 to 10\n// Each time, display the multiplication\n",
        "testCases": [
          {
            "description": "Displays 7 x 1 = 7",
            "input": "for (let i = 1; i <= 10; i++) { console.log('7 x ' + i + ' = ' + (7 * i)); }",
            "expectedOutput": "7 x 1 = 7"
          }
        ],
        "hint": "for (let i = 1; i <= 10; i++) { console.log('7 x ' + i + ' = ' + (7 * i)); }"
      },
      "solution": "for (let i = 1; i <= 10; i++) {\n  console.log('7 x ' + i + ' = ' + (7 * i));\n}",
      "commonStickingPoints": "Common mistakes:\n\n1. Off-by-one errors (VERY common!):\n   for (let i = 0; i < 5; i++)  // Runs 5 times (0,1,2,3,4)\n   for (let i = 1; i < 5; i++)  // Runs 4 times (1,2,3,4)\n   for (let i = 1; i <= 5; i++) // Runs 5 times (1,2,3,4,5)\n   Always test: does this loop run the right number of times?\n\n2. Infinite loops:\n   for (let i = 0; i < 5; i--) // i gets SMALLER, never reaches 5!\n   This will crash your program!\n\n3. Forgetting to increment:\n   for (let i = 0; i < 5; ) // Missing i++\n   Another infinite loop!\n\n4. Using = instead of ==:\n   for (let i = 0; i = 5; i++)  // WRONG - assigns 5 to i!\n   for (let i = 0; i < 5; i++)  // CORRECT\n\n5. Modifying the loop variable inside:\n   for (let i = 0; i < 5; i++) {\n     i = 0;  // BAD - creates infinite loop!\n   }\n   Don't change i inside the loop body!"
    },
    {
      "id": "4.2",
      "title": "Looping Until a Condition Changes (while Loops)",
      "conceptAnalogy": "Imagine you're filling a bathtub. You don't know EXACTLY how many seconds it will take - you just know you need to keep the water running WHILE the tub is not full.\n\nEvery few seconds you check: 'Is it full yet?' No → keep filling. 'Is it full yet?' No → keep filling. 'Is it full yet?' YES → turn off the water!\n\nThis is what a 'while loop' does. Unlike a for loop (where you know how many times to repeat), a while loop keeps going UNTIL a condition becomes false. You don't know how many times it will run - you just know the condition that needs to be met to stop.",
      "codeExample": "// Basic while loop - count to 5\nlet count = 0;\n\nwhile (count < 5) {\n  console.log('Count: ' + count);\n  count++;  // IMPORTANT: Don't forget to update!\n}\n\n// Practical example: password attempts\nlet password = 'secret';\nlet userInput = 'wrong';\nlet attempts = 0;\nlet maxAttempts = 3;\n\nwhile (userInput !== password && attempts < maxAttempts) {\n  console.log('Attempt ' + (attempts + 1) + ': Incorrect password');\n  // In a real app, you'd ask for input here\n  // For this example, we'll just increment\n  attempts++;\n  if (attempts === 2) {\n    userInput = 'secret';  // Correct on 3rd try\n  }\n}\n\nif (userInput === password) {\n  console.log('Access granted!');\n} else {\n  console.log('Too many failed attempts');\n}\n\n// Countdown example\nlet countdown = 5;\nwhile (countdown > 0) {\n  console.log(countdown);\n  countdown--;\n}\nconsole.log('Liftoff!');",
      "syntaxBreakdown": "Structure of a while loop:\n\nwhile (condition) {\n       │\n       └─ Keep looping while this is true\n  // Code to repeat\n  // MUST update something that affects the condition!\n}\n\nHow it works:\n1. Check the condition\n2. If true: run the loop body, then go back to step 1\n3. If false: exit the loop\n\nCritical difference from for loop:\n- for loop: Use when you KNOW how many times to loop\n  for (let i = 0; i < 10; i++) { }  // Exactly 10 times\n\n- while loop: Use when you DON'T know how many times\n  while (notFullYet) { }  // Until it's full (who knows how long?)\n\n**WARNING**: You MUST change something in the loop that affects the condition, or you'll create an infinite loop!\n\nGood (will eventually stop):\nlet x = 0;\nwhile (x < 5) {\n  console.log(x);\n  x++;  // x changes, will eventually reach 5\n}\n\nBAD (infinite loop!):\nlet x = 0;\nwhile (x < 5) {\n  console.log(x);  // x never changes!\n  // Loop runs forever!\n}\n\nCommon while loop patterns:\n- Keep trying until success\n- Process until data runs out\n- Wait for a condition to change",
      "challenge": {
        "instructions": "Create a simple number guessing game:\n1. Set a target number (e.g., 7)\n2. Set a guess variable to 1\n3. Use a while loop that runs while guess is not equal to target\n4. Each time through the loop:\n   - Display: 'Guess: [number] - Wrong!'\n   - Increment guess by 1\n5. After the loop, display: 'Guess: [number] - Correct!'",
        "starterCode": "let target = 7;\nlet guess = 1;\n\n// Write your while loop here\n\n// After the loop, display the correct message\n",
        "testCases": [
          {
            "description": "Keeps guessing until correct",
            "input": "let target = 3; let guess = 1; let output = ''; while (guess !== target) { output += 'Guess: ' + guess + ' - Wrong!\\n'; guess++; } console.log(output + 'Guess: ' + guess + ' - Correct!');",
            "expectedOutput": "Guess: 1 - Wrong!\nGuess: 2 - Wrong!\nGuess: 3 - Correct!"
          }
        ],
        "hint": "while (guess !== target) { console.log('Guess: ' + guess + ' - Wrong!'); guess++; }"
      },
      "solution": "let target = 7;\nlet guess = 1;\n\nwhile (guess !== target) {\n  console.log('Guess: ' + guess + ' - Wrong!');\n  guess++;\n}\n\nconsole.log('Guess: ' + guess + ' - Correct!');",
      "commonStickingPoints": "Common mistakes:\n\n1. Forgetting to update the condition variable:\n   let x = 0;\n   while (x < 10) {\n     console.log(x);  // x never changes - INFINITE LOOP!\n   }\n\n2. Updating in the wrong direction:\n   let x = 0;\n   while (x < 10) {\n     console.log(x);\n     x--;  // x gets MORE negative - INFINITE LOOP!\n   }\n\n3. Wrong comparison operator:\n   let x = 0;\n   while (x < 10) {\n     console.log(x);\n     x--;  // Should be x++\n   }\n\n4. Condition that's never true:\n   let x = 5;\n   while (x < 0) {  // 5 is not < 0\n     // This never runs at all!\n   }\n\n5. Not initializing before the loop:\n   while (count < 10) {  // count is not defined!\n     count++;\n   }\n   Must declare: let count = 0; BEFORE the while loop"
    },
    {
      "id": "4.3",
      "title": "Breaking Out Early (break and continue)",
      "conceptAnalogy": "Imagine you're looking through a stack of 100 papers for a specific document:\n\n**break**: You find the document on paper #37. You don't need to look through the remaining 63 papers - you STOP immediately and leave. That's what 'break' does - it exits the loop early.\n\n**continue**: You're reading through papers, but whenever you see a blank page, you skip it and go to the next one without processing it. That's what 'continue' does - it skips to the next iteration of the loop.\n\nBoth are useful for making loops more efficient and handling special cases.",
      "codeExample": "// BREAK - exit the loop early\nconsole.log('--- Using break ---');\nfor (let i = 1; i <= 10; i++) {\n  if (i === 5) {\n    console.log('Found 5! Stopping.');\n    break;  // Exit the entire loop\n  }\n  console.log(i);\n}\nconsole.log('Loop finished');\n// Output: 1, 2, 3, 4, Found 5! Stopping., Loop finished\n\n// CONTINUE - skip to next iteration\nconsole.log('--- Using continue ---');\nfor (let i = 1; i <= 10; i++) {\n  if (i % 2 === 0) {  // If even number\n    continue;  // Skip the rest, go to next iteration\n  }\n  console.log(i);  // Only odd numbers print\n}\n// Output: 1, 3, 5, 7, 9\n\n// Practical: searching for a value\nlet numbers = [5, 8, 12, 15, 20, 25];\nlet target = 15;\nlet found = false;\n\nfor (let i = 0; i < numbers.length; i++) {\n  if (numbers[i] === target) {\n    console.log('Found ' + target + ' at position ' + i);\n    found = true;\n    break;  // No need to keep searching!\n  }\n}\n\nif (!found) {\n  console.log(target + ' not found');\n}\n\n// Skip invalid data\nfor (let i = 1; i <= 5; i++) {\n  if (i === 3) {\n    console.log('Skipping 3');\n    continue;\n  }\n  console.log('Processing: ' + i);\n}\n// Processes 1, 2, skips 3, processes 4, 5",
      "syntaxBreakdown": "Two flow control keywords:\n\n**break**\n- Immediately exits the loop\n- Execution continues after the loop\n- Use when you've found what you're looking for\n- Use when a condition makes continuing pointless\n\nExample:\nfor (let i = 0; i < 100; i++) {\n  if (found) {\n    break;  // Don't check remaining 90 items\n  }\n}\nconsole.log('Continue here');  // This runs after break\n\n**continue**\n- Skips the rest of the current iteration\n- Goes directly to the next iteration\n- Use to skip invalid/unwanted values\n- Use to avoid deep nesting\n\nExample:\nfor (let i = 0; i < 10; i++) {\n  if (i === 5) {\n    continue;  // Skip when i is 5\n  }\n  console.log(i);  // This doesn't run when i is 5\n  // But runs for all other values\n}\n\nComparing break vs continue:\n\nbreak:\nfor (let i = 0; i < 5; i++) {\n  if (i === 3) break;\n  console.log(i);\n}\n// Prints: 0, 1, 2 (then EXITS loop)\n\ncontinue:\nfor (let i = 0; i < 5; i++) {\n  if (i === 3) continue;\n  console.log(i);\n}\n// Prints: 0, 1, 2, 4 (SKIPS 3, continues loop)\n\nImportant: break and continue only affect the INNERMOST loop they're in. If you have nested loops, they don't break out of all loops.",
      "challenge": {
        "instructions": "Create a loop that finds the first number divisible by 7 between 1 and 50:\n1. Use a for loop from 1 to 50\n2. Check if the number is divisible by 7 (use i % 7 === 0)\n3. When you find it, display 'First number divisible by 7: [number]'\n4. Use 'break' to exit the loop (no need to check the rest)",
        "starterCode": "// Loop from 1 to 50\n// Check if divisible by 7\n// Display and break when found\n",
        "testCases": [
          {
            "description": "Finds first number divisible by 7",
            "input": "for (let i = 1; i <= 50; i++) { if (i % 7 === 0) { console.log('First number divisible by 7: ' + i); break; } }",
            "expectedOutput": "First number divisible by 7: 7"
          }
        ],
        "hint": "for (let i = 1; i <= 50; i++) { if (i % 7 === 0) { console.log('First number divisible by 7: ' + i); break; } }"
      },
      "solution": "for (let i = 1; i <= 50; i++) {\n  if (i % 7 === 0) {\n    console.log('First number divisible by 7: ' + i);\n    break;\n  }\n}",
      "commonStickingPoints": "Common mistakes:\n\n1. Using break outside a loop:\n   if (x > 5) {\n     break;  // ERROR - not in a loop!\n   }\n   break only works inside loops or switch statements\n\n2. Confusing break and return:\n   - break exits a loop\n   - return exits a function (we'll learn soon)\n   Don't mix them up!\n\n3. Expecting break to exit nested loops:\n   for (let i = 0; i < 3; i++) {\n     for (let j = 0; j < 3; j++) {\n       if (j === 1) break;  // Only exits inner loop!\n     }\n   }\n   To exit all loops, use a flag or a function with return\n\n4. Forgetting to update counter before continue:\n   let i = 0;\n   while (i < 10) {\n     if (i === 5) continue;  // INFINITE LOOP!\n     console.log(i);\n     i++;  // Never reached when i is 5\n   }\n   Fix: Put i++ before the continue check\n\n5. Overusing break/continue:\n   Sometimes an if statement is clearer:\n   for (let i = 0; i < 10; i++) {\n     if (i !== 5) {  // Clearer than using continue\n       console.log(i);\n     }\n   }"
    },
    {
      "id": "4.4",
      "title": "Looping Through Lists (for...of)",
      "conceptAnalogy": "Imagine you have a playlist of songs, and you want to play each one in order. You don't care about the position (song #1, song #2, etc.) - you just want to go through each song:\n\n'Play song: Song A'\n'Play song: Song B'\n'Play song: Song C'\n\nYou're iterating through the LIST, not counting numbers. This is perfect for the 'for...of' loop - it's designed specifically for going through each item in a list (array) without worrying about indices or counters.",
      "codeExample": "// Old way: using a regular for loop with an index\nlet fruits = ['apple', 'banana', 'cherry'];\n\nfor (let i = 0; i < fruits.length; i++) {\n  console.log(fruits[i]);  // Need to use fruits[i] to get the item\n}\n\n// New way: for...of loop (much cleaner!)\nfor (let fruit of fruits) {\n  console.log(fruit);  // Direct access to each item\n}\n\n// Another example: summing numbers\nlet numbers = [10, 20, 30, 40, 50];\nlet total = 0;\n\nfor (let num of numbers) {\n  total += num;\n}\nconsole.log('Total: ' + total);  // 150\n\n// Works with strings too! (string is a list of characters)\nlet word = 'hello';\n\nfor (let letter of word) {\n  console.log(letter);  // h, e, l, l, o\n}\n\n// Practical: find if item exists\nlet shoppingCart = ['milk', 'eggs', 'bread', 'butter'];\nlet lookingFor = 'eggs';\nlet hasItem = false;\n\nfor (let item of shoppingCart) {\n  if (item === lookingFor) {\n    hasItem = true;\n    break;\n  }\n}\n\nconsole.log(hasItem ? 'Found it!' : 'Not in cart');",
      "syntaxBreakdown": "Understanding for...of:\n\nfor (let item of array) {\n     │   │    │    │\n     │   │    │    └─ The array to loop through\n     │   │    └────── The 'of' keyword\n     │   └─────────── Variable to hold each item (you choose the name)\n     └─────────────── let (or const)\n  // Use 'item' here\n}\n\nComparing loop types:\n\n// Regular for loop - use when you need the INDEX\nfor (let i = 0; i < arr.length; i++) {\n  console.log('Position ' + i + ': ' + arr[i]);\n}\n\n// for...of loop - use when you just need the ITEMS\nfor (let item of arr) {\n  console.log(item);  // Don't care about position\n}\n\n// while loop - use when you don't know how many times\nwhile (notDone) {\n  // Keep going until condition changes\n}\n\nWhen to use for...of:\n✓ Going through all items in an array\n✓ Don't need the index/position\n✓ Cleaner, more readable code\n\nWhen NOT to use for...of:\n✗ Need the index number\n✗ Need to modify the array while looping\n✗ Looping a specific number of times (use regular for)\n\nNote: You can use 'const' instead of 'let' in for...of:\nfor (const fruit of fruits) {\n  // fruit is reassigned each iteration, so const works!\n}\n\nArray.length:\n- Every array has a .length property\n- fruits.length → 3 (number of items)\n- Use in regular for loops: i < arr.length",
      "challenge": {
        "instructions": "You have a list of temperatures in Celsius. Convert each to Fahrenheit and display it:\n1. Given array: [0, 10, 20, 30, 40]\n2. Use a for...of loop\n3. For each temperature, convert to Fahrenheit: (celsius * 9/5) + 32\n4. Display: '[celsius]°C is [fahrenheit]°F'",
        "starterCode": "let celsiusTemps = [0, 10, 20, 30, 40];\n\n// Use for...of to loop through each temperature\n// Convert and display each one\n",
        "testCases": [
          {
            "description": "Converts 0°C correctly",
            "input": "let celsiusTemps = [0]; for (let celsius of celsiusTemps) { let fahrenheit = (celsius * 9/5) + 32; console.log(celsius + '°C is ' + fahrenheit + '°F'); }",
            "expectedOutput": "0°C is 32°F"
          }
        ],
        "hint": "for (let celsius of celsiusTemps) { let fahrenheit = (celsius * 9/5) + 32; console.log(...); }"
      },
      "solution": "let celsiusTemps = [0, 10, 20, 30, 40];\n\nfor (let celsius of celsiusTemps) {\n  let fahrenheit = (celsius * 9/5) + 32;\n  console.log(celsius + '°C is ' + fahrenheit + '°F');\n}",
      "commonStickingPoints": "Common mistakes:\n\n1. Using 'in' instead of 'of':\n   for (let fruit in fruits)  // WRONG - gives index, not item!\n   for (let fruit of fruits)  // CORRECT - gives the item\n   \n   Confusing, right? Remember: 'of' for values, 'in' for keys (we'll learn later)\n\n2. Trying to get the index:\n   for (let fruit of fruits) {\n     console.log(i);  // ERROR - i doesn't exist!\n   }\n   If you need the index, use a regular for loop or .forEach() (later)\n\n3. Modifying the array while looping:\n   for (let fruit of fruits) {\n     fruits.push('new');  // DANGEROUS - might cause infinite loop!\n   }\n   Don't modify the array you're looping through\n\n4. Expecting it to work on objects:\n   let person = {name: 'Alice', age: 25};\n   for (let prop of person)  // ERROR - for...of doesn't work on plain objects!\n   Use for...in for objects (later lesson)\n\n5. Using wrong variable name:\n   for (let fruit of fruits) {\n     console.log(fruits);  // Prints whole array each time!\n   }\n   Should be: console.log(fruit);  // Just one item"
    }
  ]
}
